<EditForm Model="Client" OnValidSubmit="OnSubmit">
    <DataAnnotationsValidator />

    <MudGrid>
        <MudItem xs="6">
            <MudTextField Label="@GetDisplayName(() => Client.FirstName)"
                          @bind-Value="@Client.FirstName"
                          For="@(() => Client.FirstName)"
                          Class="mb-4" />
            <!-- Contenedor para unir Document y DocumentType -->
            <div style="display: flex; gap: 10px; align-items: center;">
                <MudTextField Label="@GetDisplayName(() => Client.Document)"
                              @bind-Value="@Client.Document"
                              For="@(() => Client.Document)"
                              Class="mb-4" Style="flex: 1;" />

                @if (DocumentTypes is null)
                {
                    <Loading />
                }
                else
                {
                    <MudSelect T="DocumentType" Class="mb-4"
                               Label="Tipo"
                               Value="SelectedDocument"
                               ValueChanged="DocumentChanged"
                               ToStringFunc="@(e => e == null ? null : $"{e.DocumentName}")"
                               For="@(() => Client.DocumentType)"
                               Style="flex: 1;">
                        @foreach (var item in DocumentTypes!)
                        {
                            <MudSelectItem Value="item">@item.DocumentName</MudSelectItem>
                        }
                    </MudSelect>
                }
            </div>
        </MudItem>
        <MudItem xs="6">
            <MudTextField Label="@GetDisplayName(() => Client.LastName)"
                          @bind-Value="@Client.LastName"
                          For="@(() => Client.LastName)"
                          Class="mb-4" />
            <!-- Contenedor para unir Document y DocumentType -->
            <div style="display: flex; gap: 10px; align-items: center;">
                <MudTextField Label="País"
                              @bind-Value="@Client.CodeCountry"
                              For="@(() => Client.CodeCountry)"
                              Class="mb-4"
                              Style="flex: 1;"/>

                <MudTextField Label="Área"
                              @bind-Value="@Client.CodeNumber"
                              For="@(() => Client.CodeNumber)"
                              Class="mb-4"
                              Style="flex: 1;"/>

                <MudTextField Label="Teléfono"
                              @bind-Value="@Client.PhoneNumber"
                              For="@(() => Client.PhoneNumber)"
                              Class="mb-4"
                              Style="flex: 2;"/>
            </div>
        </MudItem>
        <MudItem xs="12">
            <MudTextField Label="@GetDisplayName(() => Client.Address)"
                          @bind-Value="@Client.Address"
                          For="@(() => Client.Address)"
                          Class="mb-4" />
        </MudItem>
        <MudItem xs="6">
            <MudTextField Label="@GetDisplayName(() => Client.UserName)"
                          @bind-Value="@Client.UserName"
                          For="@(() => Client.UserName)"
                          Class="mb-4" />
        </MudItem>
        <MudItem xs="6">
            <MudCheckBox Label="@GetDisplayName(() => Client.Active)"
                         @bind-Value="@Client.Active"
                         For="@(() => Client.Active)"
                         Class="mb-4" />
        </MudItem>
        <MudItem xs="12" Class="align-content-center">
            <InputImage ImageSelected="ImageSelected" ImageUrl="@ImageUrl" />
        </MudItem>




    </MudGrid>

    <br />
    <div class="mb-4" style="display: flex; justify-content: center; gap: 10px; margin-top: 10px;">
        <MudButton Variant="Variant.Filled"
                   StartIcon="@Icons.Material.Filled.ArrowBack"
                   Color="Color.Surface"
                   OnClick="ReturnAction">
            Volver
        </MudButton>
        <MudButton Variant="Variant.Filled"
                   StartIcon="@Icons.Material.Filled.Save"
                   Color="Color.Dark"
                   ButtonType="ButtonType.Submit">
            Guardar
        </MudButton>
    </div>
</EditForm>
